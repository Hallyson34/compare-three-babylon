<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
    <title>Three.js Hintze-Hall</title>
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      #backButton {
        position: absolute;
        top: 50px;
        left: 5px;
        padding: 12px;
        background-color: rgba(0, 0, 0, 0.73);
        color: white;
        border: 1px solid white;
        border-radius: 4px;
        cursor: pointer;
        z-index: 1;
      }
      #backButton:hover {
        background-color: rgba(0, 0, 0, 0.7);
      }
    </style>
    <script src="https://mrdoob.github.io/stats.js/build/stats.min.js"></script>
  </head>

  <body>
    <button id="backButton" onclick="window.location.href='/site/index.html'">
      Voltar
    </button>
  </body>

  <script src="https://mrdoob.github.io/stats.js/build/stats.min.js"></script>
  <script type="module">
    import * as THREE from "https://esm.sh/three@0.180.0";
    import { GLTFLoader } from "https://esm.sh/three@0.180.0/examples/jsm/loaders/GLTFLoader.js";

    const stats = new Stats();
    stats.domElement.style.position = "absolute";
    stats.domElement.style.left = "0px";
    stats.domElement.style.top = "0px";
    document.body.appendChild(stats.domElement);

    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xb0e0e6);

    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.set(0, 3, 6);

    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const hemiLight = new THREE.HemisphereLight(0xaaaaaa, 0x444444, 3);
    hemiLight.position.set(0, 10, 0);
    scene.add(hemiLight);

    const dirLight = new THREE.DirectionalLight(0xffffff, 2);
    dirLight.position.set(5, 10, 7);
    dirLight.castShadow = true;
    scene.add(dirLight);

    const pointLight = new THREE.PointLight(0xffffff, 2.5, 10);
    pointLight.position.set(0, 5, 0);
    scene.add(pointLight);

    const loader = new GLTFLoader();
    loader.load(
      "https://github.com/Hallyson34/compare-three-babylon/releases/download/v1/hintze-hall.glb",
      (gltf) => scene.add(gltf.scene)
    );

    let angle = 0,
      radius = 6;

    function animate() {
      stats.begin();

      angle += 0.002;
      camera.position.x = radius * Math.sin(angle);
      camera.position.z = radius * Math.cos(angle);
      camera.position.y = 8;
      camera.lookAt(new THREE.Vector3(0, 8, 0));

      renderer.render(scene, camera);
      stats.end();
      requestAnimationFrame(animate);
    }

    animate();

    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</html>
